<section id="contact">
    <div class="container">
        <div class="row">
            <div class="col-lg-12 text-center">
                <h2 class="section-heading">6. Engage with Me</h2>
                <h3 class="section-subheading text-muted">Let's start our shared adventure.</h3>
            </div>
        </div>
        {% comment %}
        <div id="links" class="row">
            {% for link in site.data.links %}
            {% assign modulo = forloop.index | modulo: 3 %}
            {% if modulo == 1 %}
            <div class="col-lg-4">
            {% endif %}
                <div class="row">
                    <div class="col-sm-6">
                        <span>{{ link.name }}</span>
                    </div>
                    <div class="col-sm-6">
                        <a href="{{ link.url }}" class="section-subheading">{{ link.username }}</a>
                    </div>
                </div>
            {% if modulo == 0 or forloop.last %}
            </div>
            {% endif %}
            {% endfor %}
        </div><!-- .row -->
        {% endcomment %}
        <!-- Contact Information -->
        <!-- The Form -->
        <form action="https://formspree.io/f/mdkkpyva" method="POST">
            <!-- Hidden fields for customizing the form behavior -->
            <input type="hidden" name="_subject" value="New Contact Form Submission">
            <!--  <input type="hidden" name="_next" value="https://mylo-ryn.com/thanks.html"> -->
            
            <!-- Honeypot field to prevent spam - hide this with CSS -->
            <input type="text" name="_gotcha" class="Honeypot">

            <div class="row">
                <div class="col-lg-12">
                    <div class="row">
                        <!-- Left Column -->
                        <div class="col-md-6">
                            <h4 class="text-center" style="color: white;">Logistics</h4>
                            <div class="control-group form-group">
                                <input type="text" class="form-control" placeholder="Your Name *" id="name" name="name" required data-validation-required-message="Please enter your name.">
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="control-group form-group">
                                <input type="email" class="form-control" placeholder="Your Email *" id="email" name="_replyto" required data-validation-required-message="Please enter your email address.">
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="control-group form-group">
                                <input type="tel" class="form-control" placeholder="Your Phone *" id="phone" name="phone" required data-validation-required-message="Please enter your phone number.">
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="control-group form-group">
                                <input type="tel" class="form-control" placeholder="City of Request" id="city" name="city" required data-validation-required-message="Please enter your phone number.">
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="control-group form-group">
                                <div class="row">
                                    <!-- Date Column -->
                                    <div class="col-md-6">
                                        <label for="date" style="color: white;">Preferred Date</label>
                                        <input type="date"
                                                class="form-control"
                                                name="requested_date"
                                                id="date"
                                                min=""
                                                required
                                                style="height: 50px;"
                                                data-validation-required-message="Preferred date.">
                                        <p class="help-block text-danger"></p>
                                    </div>
                            
                                    <!-- Duration Column -->
                                    <div class="col-md-6">
                                        <label style="color: white">Duration</label>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <input type="number"
                                                        class="form-control"
                                                        name="duration"
                                                        id="duration"
                                                        min="1"
                                                        max="99"
                                                        step="1"
                                                        required
                                                        onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                                                        placeholder="2"
                                                        style="height: 50px;"
                                                        data-validation-required-message="Please enter a number between 1 and 99">
                                            </div>
                                            <div class="col-md-6 d-flex align-items-center">
                                                <span style="color: white; line-height: 50px;">hours</span>
                                            </div>
                                        </div>
                                        <p class="help-block text-danger"></p>
                                    </div>
                                </div>
                            </div>
                            <div class="control-group form-group">
                                <select class="form-control" id="screen" name ="time" required data-validation-required-message="Please select a requested time">
                                    <option value="" disabled selected>Select a Preferred Time</option>
                                    <option>Morning</option>
                                    <option>Afternoon</option>
                                    <option>Evening</option>
                                </select>
                                <p class="help-block text-danger"></p>
                            </div>

                            <div class="control-group form-group">
                                <select class="form-control" id="screen" name ="screen" required data-validation-required-message="Please select a screening method">
                                    <option value="" disabled selected>Select a Required Screening Method</option>
                                    <option>Government ID + Selfie</option>
                                    <option>LinkedIn Profile + Selfie</option>
                                    <option>Public Location Civ Date for $100/hr </option>
                                    <option>Verified Content Creator looking for Collab</option>
                                </select>
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="control-group form-group">
                                <input type="tel" class="form-control" placeholder="How'd ya find me?" id="phone" name="findme" data-validation-required-message="Tryst, OnlyFans, Bluesky, etc">
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <!-- Right Column -->
                        <div class="col-md-6">
                            <h4 class="text-center" style="color:white;">Experience</h4>
                            <div class="control-group form-group">
                                <select class="form-control" id="theme" name="theme" required data-validation-required-message="Please select a theme">
                                    <option value="" disabled selected>Select a Theme</option>
                                    <option value="sweet">Sweet</option>
                                    <option value="spicy">Spicy</option>
                                </select>
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="control-group form-group">
                                <select class="form-control" id="locationContact" name="locationContact" required data-validation-required-message="Please select a location">
                                    <option value="" disabled selected>Select Timeframe</option>
                                    <option value="short">Bite-Size Rendezvous</option>
                                    <option value="weekend">Weekend Getaway</option>
                                    <option value="trip">Disconnect from Society</option>
                                </select>
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="control-group form-group">
                                <select class="form-control" id="videographyContact" name="videographyContact" data-validation-required-message="Videography Packages">
                                    <option value="" disabled selected>Videography Add-On</option>
                                    <option value="secret">Our Little Secret</option>
                                    <option value="video">Sourvenir Video</option>
                                    <option value="onlyfans">Exhibition Package</option>
                                </select>
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="control-group form-group">
                                <input type="tel" class="form-control" name="duos" placeholder="Want to expand the party?" id="duos" >
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="control-group form-group">
                                <textarea class="form-control" placeholder="Improv section. What would make this moment unforgettable for you? What extra do I need to know?" id="message" name="message" required data-validation-required-message="Improv section. Write more if you please."></textarea>
                                <p class="help-block text-danger"></p>
                            </div>
                        </div><!-- .col-md-6 -->
                        <div class="clearfix"></div>
                        <div class="col-lg-12">
                            <div class="form-group">
                                <div class="checkbox">
                                    <label style="color: white">
                                        <input type="checkbox" id="policy-check" name='policy-check' required>
                                        I've read the <a href="https://mylo-ryn.tryst.link/#policies" target="_blank">cancellation policy</a>.
                                    </label>
                                </div>
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="checkbox">
                                <label style="color: white;">
                                    <input type="checkbox" id="newsletter-check" name="'newsletter-check">
                                    Please add me to your mailing list for updates and tour announcements.
                                </label>
                            </div>

                            <div id="success"></div>
                            <p class="text-center">
                                <button type="submit" class="btn btn-xl">7. Begin the Adventure!</button>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </div>
</section>

<!-- For Calender min/max days -->
<script>
    // Get today's date and format it
    const today = new Date().toISOString().split('T')[0];
    
    // Create a date 6 months from now (for example)
    const maxDate = new Date();
    maxDate.setMonth(maxDate.getMonth() +6);
    const futureDate = maxDate.toISOString().split('T')[0];
    
    // Get the date input element
    const dateInput = document.getElementById('date');
    
    // Set min and max dates
    dateInput.setAttribute('min', today);
    dateInput.setAttribute('max', futureDate);
    
    // Set today as the default value
    dateInput.value = today;
</script>

<!-- For number of hours validation -->
<script>
    document.getElementById('quantity').addEventListener('input', function() {
        // Remove decimal points
        this.value = this.value.replace(/\./g, '');
        
        // Convert to number and validate range
        let num = parseInt(this.value);
        if (num > 99) this.value = '99';
        if (num < 1) this.value = '1';
        
        // Remove leading zeros
        if (this.value.length > 1 && this.value[0] === '0') {
            this.value = this.value.replace(/^0+/, '');
        }
    });
</script>